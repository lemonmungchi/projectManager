server:
  port: 8082

spring:
  application:
    name: jwt
  profiles:
    active: default

  jpa:
    properties:
      hibernate:
        show_sql: true
        format_sql: true
        implicit_naming_strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyComponentPathImpl

  cloud:
    stream:
      kafka:
        binder:
          brokers: ${SPRING_KAFKA_BOOTSTRAP_SERVERS:localhost:9092}  # âœ… ê¸°ë³¸ê°’ì€ ë¡œì»¬, Docker í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš© ê°€ëŠ¥
        streams:
          binder:
            configuration:
              default:
                key:
                  serde: org.apache.kafka.common.serialization.Serdes$StringSerde
                value:
                  serde: org.apache.kafka.common.serialization.Serdes$StringSerde
      bindings:
        event-in:
          group: jwt
          destination: jwt-topic
          contentType: application/json
        event-out:
          destination: jwt-topic
          contentType: application/json

  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}

# âœ… JWT ê´€ë ¨ ì„¤ì • (ë¹„ë°€í‚¤, ë§Œë£Œ ì‹œê°„, ë°œê¸‰ì)
jwt:
  secret: ${JWT_SECRET:MySuperSecretKeyForJWTGenerationWith256Bits}  # ğŸ”¹ í™˜ê²½ ë³€ìˆ˜ ë˜ëŠ” ê¸°ë³¸ê°’ ì‚¬ìš©
  expiration: 3600000  # ğŸ”¹ 1ì‹œê°„ (ë°€ë¦¬ì´ˆ ë‹¨ìœ„)
  issuer: projectmanager  # ğŸ”¹ í† í° ë°œê¸‰ì ì„¤ì •

# âœ… Feign Client ì„¤ì • (User ì„œë¹„ìŠ¤ì—ì„œ JWT ì„œë¹„ìŠ¤ í˜¸ì¶œ ì‹œ ì ìš©)
feign:
  client:
    config:
      default:
        connectTimeout: 5000  # ğŸ”¹ ì—°ê²° íƒ€ì„ì•„ì›ƒ (ms)
        readTimeout: 5000     # ğŸ”¹ ì‘ë‹µ íƒ€ì„ì•„ì›ƒ (ms)
        loggerLevel: full     # ğŸ”¹ ìš”ì²­/ì‘ë‹µ ë¡œê·¸ ë ˆë²¨

logging:
  level:
    org.hibernate.type: trace
    org.springframework.cloud: debug

---
# âœ… Docker ì‹¤í–‰ í™˜ê²½ (í”„ë¡œí•„: docker)
spring:
  config:
    activate:
      on-profile: docker

  server:
    port: 8082  # âœ… Dockerì—ì„œë„ ëª…í™•í•œ í¬íŠ¸ ì§€ì •

  cloud:
    stream:
      kafka:
        binder:
          brokers: ${SPRING_KAFKA_BOOTSTRAP_SERVERS:kafka:9092}  # âœ… Docker ë„¤íŠ¸ì›Œí¬ì—ì„œ Kafka ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •

  redis:
    host: redis
    port: 6379
